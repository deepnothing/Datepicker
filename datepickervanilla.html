<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <select id='m'></select>
    <select id='d'></select>
    <!-- <select id='y'></select> -->
    <input type="number" id='y'>
    <div class="output"></div>


    <input type="hidden" id="first" value="" />
    <input type="hidden" id="second" value="" />


    <script>

        var monthtext = ['January', 'Febuary', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        var today = new Date();
        var month = document.querySelector('#m');
        var day = document.querySelector('#d');
        var year = document.querySelector('#y');
        var out = document.querySelector('.output');

        function populate() {
            for (var m = 0; m < monthtext.length; m++) {
                month.options[m] = new Option(monthtext[m], m + 1);
            }
            month.options[today.getMonth()].selected = true;

            year.value = today.getFullYear();

            daysInMonth(month.value, year.value, 0);
            day.options[today.getDate() - 1].selected = true;

            first.value = month.value + '/' + day.value + '/' + year.value;
            second.value = first.value;
            setOutput();
        }

        function setNewDate(str) {
            var mdy = str.split('/');
            month.options[mdy[0] - 1].selected = true;
            day.options[mdy[1] - 1].selected = true;
            year.value = mdy[2];
        }

        function daysInMonth(month, year, days) {
            var dys = new Date(year, month, 0).getDate();
            day.innerHTML = "";
            for (var i = 0; i < dys; i++) {
                day.options[i] = new Option(i + 1, i + 1);
            }
            if (days >= dys) {
                days = dys - 1;
                second.value = month + '/' + (days + 1) + '/' + year;
                localStorage.setItem('mydate', second.value);
            }
            day.options[days].selected = true;
        }

        function setFuture(m, d, y) {
            second.value = m + '/' + d + '/' + y;
            localStorage.setItem('mydate', second.value);
            daysInMonth(m, y, d - 1);
            setOutput();
        }
        function setOutput() {
            var diff = datediff(parseDate(first.value), parseDate(second.value));
            var iswas = 'is';
            var ds = 's';
            if (diff < 0) { iswas = 'was'; diff = Math.abs(diff) };
            if (diff == 1) ds = '';
            out.innerHTML = second.value + ' ' + iswas + ' ' + diff.toLocaleString() + ' day' + ds + ' from now';
        }

        function parseDate(str) {
            var mdy = str.split('/');
            return new Date(mdy[2], mdy[0] - 1, mdy[1]);
        }

        function datediff(first, second) {

            return Math.round((second - first) / (1000 * 60 * 60 * 24));
        }

        month.addEventListener('change', function () {
            setFuture(this.value, day.value, year.value);
        })

        day.addEventListener('change', function () {
            setFuture(month.value, this.value, year.value);
        })

        year.addEventListener('input', function () {
            if (this.value.length == 4) {
                setFuture(month.value, day.value, this.value);
            }
        })


        populate();
        if (localStorage.getItem('mydate')) {
            second.value = localStorage.getItem('mydate');
            setNewDate(second.value);
            setOutput();
        }

    </script>
</body>

</html>